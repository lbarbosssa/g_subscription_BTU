<html>

<head>
    <link rel="shortcut icon" href="https://www.braspress.com/wp-content/themes/braspress/img/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta charset="utf-8">
    <meta name="description" content="Gerador de Assinatura de e-mail Braspress">
    <meta name="author" content="Lucas Barbosa">
    <title>Gerador de Assinatura</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
        crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle">Funcionamento do Gerador</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    O gerador de assinaturas foi desenvolvido para facilitar a criação de assinaturas de email.<br><br>
                    O funcionamento é simples, é necessário apenas preencher os campos do formulário, e clicar no botão
                    <b>Gerar Assinatura</b>.
                    <hr>
                    Abaixo exemplo de preencimento dos campos:<br>
                    <span class="ex-modal">Nome do colaborador;</span><br>
                    <span class="ex-modal">Cargo ou Função;</span><br>
                    <span class="ex-modal">Telefone com DDD;</span><br>
                    <span class="ex-modal">Caso preferir não inserir o ramal, pode deixar em branco;</span><br>
                    <span class="ex-modal">O inicio do seu e-mail ex: ti.suporte.</span><br>
                    <hr>
                    Após clicar em gerar, uma pré-visualização da sua assinatura aparecerá logo a baixo do formulário.<br>
                    Selecione a sua assinatura inteira e a copie.<br>
                    Agora é só colar o conteúdo copiado, nas configurações de assinaturas do seu gerenciador de
                    e-mail.
                    Caso não souber onde colar a assinatura, utilize o botão <b>Obter o Manual</b>.
                    <hr>
                    Se desejar, for necessário adicionar outro campo em sua assinatura, ou encontrou alguma
                    inconformidade, entre em contato com o suporte no telefone +55 (11) 3429-3225.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                    <button type="button" class="btn btn-primary">Obter o Manual</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container" id="geral">
        
        <button type="button" class="btn btn-outline-primary btn-layout-ass-Braspress btn-layout ativado">Braspress<i class="fas fa-truck"></i></button>
        <button type="button" class="btn btn-outline-primary btn-layout-ass-Banco-Urbano btn-layout">Banco Urbano<i class="fas fa-university"></i></button>
        <button type="button" class="btn btn-outline-primary btn-layout-ass-Argentina btn-layout">Braspress Argentina<i class="fas fa-globe-americas"></i></button>
        
        <button id="btn-help1" class="btn btn-help btn-help-su" data-toggle="modal" data-target="#exampleModalCenter"><i class="far fa-question-circle"></i></button><br><br>
        
        <!-- Formulario de preenchimento -->
        <form class="needs-validation" id="form-ass" novalidate onsubmit="return false">
            <div class="form-row">
                <div class="col-md-6 mb-3">
                    <label for="nomeSobrenome" id="label-nome">Nome</label>
                    <input type="text" class="form-control" id="nomeSobrenome" placeholder="Seu nome e sobrenome"
                        required autofocus>
                    <!-- <div class="valid-feedback">
                        Ok!
                    </div> -->
                    <div class="invalid-feedback">
                        <span id="invalid-nome">Informe o seu nome.</span>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="cargo" id="label-cargo">Cargo</label>
                    <input type="text" class="form-control" id="cargo" placeholder="Seu Cargo" required>
                    <!-- <div class="valid-feedback">
                        Ok!
                    </div> -->
                    <div class="invalid-feedback">
                            <span id="invalid-cargo">Informe o seu cargo.</span>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-6 mb-3">
                    <label for="telefone" id="label-telefone">Telefone</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="ddiLabelFone">+55</span>
                        </div>
                        <input type="text" class="form-control" id="telefone" placeholder="(11) 1234-5678"
                            aria-describedby="inputGroupPrepend" required>
                        <div class="invalid-feedback">
                                <span id="invalid-telefone">Informe o telefone.</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="ramal" id="label-ramal">Ramal</label>
                    <input type="text" class="form-control" id="ramal" placeholder="Seu ramal ou do setor">
                </div>
            </div>

            <div class="form-row">
                    <div class="col-md-6 mb-3">
                        <label for="celular" id="label-celular">Celular</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="ddiLabelCel">+55</span>
                            </div>
                            <input type="text" class="form-control" id="celular" placeholder="(11) 91234-5678"
                                aria-describedby="inputGroupPrepend">
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                            <label for="email" id="label-email">Email</label>
                            <div class="input-group">
                                <input type="text" class="form-control" id="email" placeholder="Seu email" required>
                                <div class="input-group-append">
                                    <span class="input-group-text" id="emailLabel">@braspress.com</span>
                                </div>
                                <div class="invalid-feedback">
                                        <span id="invalid-email">Informe seu email.</span>
                                </div>
                            </div>
                        </div>
                </div>

            <div class="form-row">

                <div class="col-md-12 mb-3">
                    <!-- <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                    <label class="form-check-label" for="invalidCheck">
                        Agree to terms and conditions
                    </label>
                    <div class="invalid-feedback">
                        You must agree before submitting.
                    </div>
                    </div> -->

                    <button id="btn-geral" class="btn btn-primary btn-su" type="submit"><span id="btn-gerar">Gerar Assinatura</span><i class="fas fa-bolt" id="btn-sec"></i></button>

                </div>
        </form>

        <!-- Preview da assinatura -->
        <div class="card border-success mb-3" id="prev">
            <div class="card-header bg-transparent border-success">
                <span id="text-card-header">Sua assinatura está pronta</span>
                <button id="btn-help2" class="btn btn-help btn-help-in" data-toggle="modal" data-target="#exampleModalCenter"><i class="far fa-question-circle"></i></button>
            </div>
            <div class="card-body text-secondary">
                <hr>
                <div id="divAssinatura">
                            <div id="ass-pronta" style="margin-left: 8px;">
                                    <p id="att-ass-preview"><b><span id="att-ass-preview-text"></span></b></p>
                                    <p id="nome-ass-preview"><b><span id="nomeAss"></span></b></p> 
                                    <img id="img-topo-preview" moz-do-not-send="true">
                                    <p id="funcao-ass-preview"><b><span id="funcaoAss"></span></b></p>
                                    <p id="fone-ass-preview"><b><span id="fone-ass-preview-name"></span><span id="foneAss"></span><span id="ramalAss"></span></b></p>
                                    <p id="cel-ass-preview"><b><span id="cel-ass-preview-name"></span><span id="celAss"></span><span id="ramalAss"></span></b></p>
                                    <p id="email-ass-preview"><b><span id="email-ass-preview-text" style="color: #999999"></span> <u><a id="emailAss-ancora"><span id="emailAss"></a></span></u></b></p>
                                    <p id="site-ass-preview"><b><span id="siteAss"></span> <a id="site-ass-preview-ancora"></a></b></p>
                                </div> 
                                    <img id="img-rodape-preview" moz-do-not-send="true"><br>
                </div>
                <hr>
                <p class="card-text" id="texto-preview">Selecione sua assinatua copie e cole nas configurações de assinaturas do seu gerenciador de e-mail.</p>
                <!-- <button id="btn-copiar" class="btn btn-primary">Copiar<i class="far fa-copy" id="btn-sec"></i></button> -->
                <br>
            </div>
        </div>
        <input id="assinatura" type="text" class="disabled">

    </div>
    <script src="js/jquery-3.3.1.min.js.js"></script>
    <script src="js/jquery.mask.js"></script>
    <script>
        /*
        //Botão de copiar assinatura
        $("#btn-copiar").on("click", function () {
        console.log("Entrou");
           $('#assinatura').show();
           var x = $("#divAssinatura").html();
           $("#assinatura").val("<html><head><meta content=\"text/html; charset=ISO-8859-1\" http-equiv=\"content-type\"><title></title></head><body>" + x + "</body></html>");
           $("#assinatura").select();
           document.execCommand("copy");
           console.log("conteudo copiado = " + x);
           $('#assinatura').hide();
        });*/

        //Mascara do campo de tel e ramal
        $('#telefone').mask('(00) 0000-0000');
        $('#ramal').mask('0000');
        
        //Mascara do campo de celular
        var behavior = function (val) {
            return val.replace(/\D/g, '').length === 11 ? '(00) 00000-0000' : '(00) 0000-00009';
        },
        options = {
            onKeyPress: function (val, e, field, options) {
                field.mask(behavior.apply({}, arguments), options);
            }
        };
        $('#celular').mask(behavior, options);
          


        //Animação do botão de help
        var btn_help = $('#btn-help1');
        btn_help.on("mouseenter", function(){
           btn_help.animate({
                    fontSize: "30px",
                }, 100)
        });
        btn_help.on("mouseleave", function(){
           btn_help.animate({
                    fontSize: "25px",
                }, 100)
        });

        //botão de mudar layout da assinatura
        btnLayout = $(".btn-layout");
        layoutAss = "Braspress";
        console.log(layoutAss); 
        btnLayout.on("click", function(){
            btnLayout.removeClass('ativado');
            $(this).addClass('ativado');
            layoutAss = $(this)[0].innerText;
            preview.fadeOut(100);
            //$("#form-ass")[0].reset();
            $("#form-ass").removeClass("was-validated");
            layoutAssinatura(layoutAss);
            $("form").hide();
            $("form").fadeIn(410);
        })
        
        //Layout da Assinatura
        function layoutAssinatura(layout){
            $("#img-topo-preview").attr({src: "imgs/img_topo.jpg", style: "width: 134px; height: 28px;", alt: "Braspress"});
            $("#att-ass-preview").attr("style", "font-size: 15px; color: #003399; font-family: Helvetica; margin-bottom: 40px");
            $("#att-ass-preview-text").html("Att.")
            $("#funcao-ass-preview").show();
            $("#funcao-ass-preview").attr("style", "font-size: 12px; color: #999999; font-family: Helvetica; margin: 1px 0 0px 0");
            $("#site-ass-preview").attr("style", "font-size: 12px; font-family: Helvetica; margin: 1px 0 0px 0");
            $("#fone-ass-preview-name").html("Telefone: ");
            $("#email-ass-preview-text").html("E-mail");
            $('#cel-ass-preview-name').hide();
            $("#siteAss").html("Acesse nosso site: ");
            $("#siteAss").attr("style", "color: #999999")
            $("#site-ass-preview-ancora").attr("href", "http://www.braspress.com");
            $("#site-ass-preview-ancora").html("braspress.com");
            $("#nome-ass-preview").attr("style", "font-size: 13px; color: #000000; font-family: Helvetica; margin: -17px 0 -1px 0");
            $("#fone-ass-preview, #cel-ass-preview").attr("style", "font-size: 12px; color: #999999; font-family: Helvetica; margin: 1px 0 0px 0");
            $("#email-ass-preview").attr("style", "font-size: 12px; color: #999999; font-family: Helvetica; margin: 1px 0 0px 0");
            $("#email-ass-preview-text").attr("style", "color: #999999;");
            if (layout == "Braspress"){
                modeloFormulario(layoutAss);
                $("#ass-pronta").attr("style", "margin-left: 8px;");
                $("#img-topo-preview").show();
                $("#funcao-ass-preview").show();
                $("#site-ass-preview").show();
                $("#img-rodape-preview").attr({src: "imgs/rodape_padrao.gif", style: "width: 380px; height: 123px;", alt: "Nosso Grupo"});
            } else if(layout == "Banco Urbano"){
                modeloFormulario(layoutAss);
                $("#ass-pronta").attr("style", "margin-top: 30px;");
                $("#att-ass-preview").hide();
                $("#img-topo-preview").hide();
                $("#cargo").attr("disabled", "disabled");
                $("#funcao-ass-preview").hide();
                $("#emailLabel").html("@bancourbano.com.br");
                $("#nome-ass-preview").attr("style", "font-size: 13px; color: #365F9E; font-family: Helvetica; margin: -17px 0 -1px 0");
                $("#fone-ass-preview, #cel-ass-preview").attr("style", "font-size: 12px; color: #365F9E; font-family: Helvetica; margin: 1px 0 0px 0");
                $("#email-ass-preview").attr("style", "font-size: 12px; color: #365F9E; font-family: Helvetica; margin: 1px 0 0px 0");
                $("#email-ass-preview-text").attr("style", "color: #365F9E;");
                $("#site-ass-preview").hide();
                $("#img-rodape-preview").attr({src: "imgs/rodape_urbano.png", style: "", alt: "Banco Urbano"});
            } else if (layout == "Braspress Argentina"){
                modeloFormulario(layoutAss);
                $("#fone-ass-preview-name").html("Teléfono: ");
                $("#email-ass-preview-text").html("Correo electrónico");
                $("#siteAss").html("Accede a nuestro sitio: ");
                $("#site-ass-preview-ancora").attr("href", "http://www.braspress.com.ar");
                $("#site-ass-preview-ancora").html("braspress.com.ar");
                $("#img-rodape-preview").attr({src: "imgs/rodape_argentina.png", style: "width: 279px; height: 89px;", alt: "Nosso Grupo"});
            }
        }
        
        //Guarda os dados do formulario
        var dados = [];
        
        //Preview da assinatura
        var preview = $('#prev');
        preview.hide();
        
        //Validação dos formularios e pre-visualização
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.getElementsByClassName('needs-validation');
                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        } else {
                            layoutAssinatura(layoutAss);
                            for (var i = 0; i < this.elements.length; i++) {
                                dados[i] = this.elements[i].value
                            }
                            if (dados[3] !== "" && layoutAss == "Braspress Argentina")
                                dados[3] = " - Interno " + dados[3];
                            else if (dados[3] !== "" && layoutAss == "Braspress")
                                dados[3] = " - Ramal " + dados[3];
                            else if (dados[3] !== "" && layoutAss == "Banco Urbano")
                                dados[3] = " - Ramal " + dados[3];
                            
                            if (dados[4] !== "")
                                 $('#cel-ass-preview-name').show();
                            

                            console.log(dados);
                            $('#nomeAss').html(dados[0]);
                            $('#funcaoAss').html(dados[1]);
                            $('#foneAss').html($("#ddiLabelFone").html() + " " + dados[2]);
                            $('#ramalAss').html(dados[3]);
                            $('#celAss').html(dados[4]);
                            $("#cel-ass-preview-name").html($("#label-celular").html() + ": " + " " + $("#ddiLabelCel").html() + " ");
                            $('#emailAss-ancora').attr("href", "mailto:" + dados[4] + $("#emailLabel").html());
                            $('#emailAss').html(dados[5] + $("#emailLabel").html());
                            preview.fadeIn();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
        
        //Alterar modelo de formulario
        modeloFormulario(layoutAss);
        function modeloFormulario(layout){
            $("#cargo").removeAttr("disabled");
            if (layout == "Braspress Argentina"){
                //Labels e placeholders
                $("#label-nome").html("Nombre");
                $("#nomeSobrenome").attr("placeholder", "Su nombre y apellido");
                $("#label-cargo").html("Función");
                $("#cargo").attr("placeholder", "Su función");
                $("#label-telefone").html("Teléfono");
                $("#ddiLabelFone, #ddiLabelCel").html("+54");
                $("#label-ramal").html("Interno");
                $("#ramal").attr("placeholder", "Su interno o de lo sector");
                $("#label-celular").html("Telemóvel");
                $("#label-email").html("Correo Electrónico");
                $("#emailLabel").html("@braspress.com");
                $("#email").attr("placeholder", "Su correo electrónico");
                $("#btn-gerar").html("Generar Firmas");
                //Textos do preview
                $("#text-card-header").html("Su firma está lista");
                $("#texto-preview").html("Seleccione su firma y copie en la configuración de firmas de su gestor de correo electrónico.");
                //Mensagem de Erro
                $("#invalid-nome").html("Introduzca su nombre.");
                $("#invalid-cargo").html("Informe su cargo.");
                $("#invalid-telefone").html("Introduzca el teléfono.");
                $("#invalid-email").html("Introduzca su correo electrónico.");
            }else{
                //Labels e placeholders
                $("#label-nome").html("Nome"); 
                $("#nomeSobrenome").attr("placeholder", "Seu nome e sobrenome");
                $("#label-cargo").html("Cargo");
                $("#cargo").attr("placeholder", "Seu Cargo");
                $("#label-telefone").html("Telefone");
                $("#ddiLabelFone, #ddiLabelCel").html("+55");
                $("#ramal").attr("placeholder", "Seu ramal ou do setor");
                $("#label-celular").html("Celular");
                $("#label-email").html("E-mail");
                $("#emailLabel").html("@braspress.com");
                $("#email").attr("placeholder", "Seu e-mail");
                $("#btn-gerar").html("Gerar assinatura");
                //Textos do preview
                $("#text-card-header").html("Sua assinatura está pronta");
                $("#texto-preview").html("Selecione sua assinatua copie e cole nas configurações de assinaturas do seu gerenciador de e-mail.");
                //Mensagem de erro
                $("#invalid-nome").html("Informe o seu nome.");
                $("#invalid-cargo").html("Informe o seu cargo.");
                $("#invalid-telefone").html("Informe o telefone.");
                $("#invalid-email").html("Informe seu email.");

            }
        }

    </script>
</head>

</html>